<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPA Chart</title>

    <!-- 引入 Noto Sans 字體 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans', sans-serif;
            margin: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            display: none;
        }

        th,
        td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
        }

        /* 只針對 CONSONANTSPULMONIC 表格設定 */
        table[data-type="ConsonantsPulmonic"] {
            width: 100%;
            border-collapse: collapse;
        }

        table[data-type="ConsonantsPulmonic"] th:first-child {
            width: 1%;
            /* 第一格根據內容自適應 */
            white-space: nowrap;
            /* 避免換行 */
        }

        table[data-type="ConsonantsPulmonic"] th:not(:first-child) {
            width: 1%;
            /* 其餘欄位平均分配剩餘空間 */
        }

        只針對 CONSONANTSNonPULMONIC 表格設定 table[data-type="ConsonantsNonPulmonic"] {
            width: 100%;
            border-collapse: collapse;
        }

        /* 只針對 OtherSymbols 表格設定 */
        table[data-type="OtherSymbols"] {
            width: 100%;
            border-collapse: collapse;
        }

        table[data-type="OtherSymbols"] th:first-child {
            width: 1%;
            /* 第一格根據內容自適應 */
            white-space: nowrap;
            /* 避免換行 */
        }

        table[data-type="OtherSymbols"] th:not(:first-child) {
            width: 1%;
            /* 其餘欄位平均分配剩餘空間 */
        }

        h2 {
            cursor: pointer;
            color: black;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        span.toggle-icon {
            font-size: 18px;
            font-weight: bold;
        }

        #language-selector {
            font-size: 16px;
            margin-bottom: 10px;
            padding: 5px;
        }
    </style>
</head>

<body style="background-color: rgb(254, 242, 223)">

    <label for="language-selector">Lang：</label>
    <select id="language-selector" onchange="changeLanguage(this.value)">
        <option value="zh">繁體中文</option>
        <option value="en">English</option>
    </select>

    <label>
        <input type="checkbox" id="simpleModeCheckbox" data-key="simpleMode">簡易模式
    </label>
    <br>

    <input type="checkbox" id="chk-chinese" onclick="toggleRow()">
    <label for="chk-chinese" data-key="chinese">
        中文 <img src="flags/tw.png" alt="台灣國旗" width="20">
    </label>

    <input type="checkbox" id="chk-english" onclick="toggleRow()">
    <label for="chk-english" data-key="english">
        英文 <img src="flags/us.png" alt="美國國旗" width="20">
    </label>

    <input type="checkbox" id="chk-german" onclick="toggleRow()">
    <label for="chk-german" data-key="german">
        德文 <img src="flags/de.png" alt="德國國旗" width="20">
    </label>

    <input type="checkbox" id="chk-spanish" onclick="toggleRow()">
    <label for="chk-spanish" data-key="spanish">
        西班牙語 <img src="flags/es.png" alt="西班牙國旗" width="20">
    </label>

    <input type="checkbox" id="chk-portuguese" onclick="toggleRow()">
    <label for="chk-portuguese" data-key="portuguese">
        葡萄牙語 <img src="flags/pt.png" alt="葡萄牙國旗" width="20">
    </label>

    <input type="checkbox" id="chk-french" onclick="toggleRow()">
    <label for="chk-french" data-key="french">
        法語 <img src="flags/fr.png" alt="法國國旗" width="20">
    </label>

    <input type="checkbox" id="chk-italian" onclick="toggleRow()">
    <label for="chk-italian" data-key="italian">
        意大利語 <img src="flags/it.png" alt="意大利國旗" width="20">
    </label>

    <input type="checkbox" id="chk-russian" onclick="toggleRow()">
    <label for="chk-russian" data-key="russian">
        俄語 <img src="flags/ru.png" alt="俄羅斯國旗" width="20">
    </label>

    <input type="checkbox" id="chk-hindiurdu" onclick="toggleRow()">
    <label for="chk-hindiurdu" data-key="hindiurdu">
        印地-烏爾都語 <img src="flags/in.png" alt="印度國旗" width="20">
    </label>

    <input type="checkbox" id="chk-bengali" onclick="toggleRow()">
    <label for="chk-bengali" data-key="bengali">
        孟加拉語 <img src="flags/bd.png" alt="孟加拉國旗" width="20">
    </label>

    <input type="checkbox" id="chk-persian" onclick="toggleRow()">
    <label for="chk-persian" data-key="persian">
        波斯語 <img src="flags/ir.png" alt="伊朗國旗" width="20">
    </label>

    <input type="checkbox" id="chk-tamil" onclick="toggleRow()">
    <label for="chk-tamil" data-key="tamil">
        坦米爾語 <img src="flags/in.png" alt="印度國旗" width="20">
    </label>

    <input type="checkbox" id="chk-arabic" onclick="toggleRow()">
    <label for="chk-arabic" data-key="arabic">
        阿拉伯語 <img src="flags/sa.png" alt="沙烏地阿拉伯國旗" width="20">
    </label>

    <input type="checkbox" id="chk-turkish" onclick="toggleRow()">
    <label for="chk-turkish" data-key="turkish">
        土耳其語 <img src="flags/tr.png" alt="土耳其國旗" width="20">
    </label>

    <input type="checkbox" id="chk-japanese" onclick="toggleRow()">
    <label for="chk-japanese" data-key="japanese">
        日語 <img src="flags/jp.png" alt="日本國旗" width="20">
    </label>

    <input type="checkbox" id="chk-korean" onclick="toggleRow()">
    <label for="chk-korean" data-key="korean">
        韓語 <img src="flags/kr.png" alt="南韓國旗" width="20">
    </label>

    <input type="checkbox" id="chk-vietnamese" onclick="toggleRow()">
    <label for="chk-vietnamese" data-key="vietnamese">
        越南語 <img src="flags/vn.png" alt="越南國旗" width="20">
    </label>

    <input type="checkbox" id="chk-indonesian" onclick="toggleRow()">
    <label for="chk-indonesian" data-key="indonesian">
        印尼語 <img src="flags/id.png" alt="印尼國旗" width="20">
    </label>

    <input type="checkbox" id="chk-thai" onclick="toggleRow()">
    <label for="chk-thai" data-key="thai">
        泰語 <img src="flags/th.png" alt="泰國國旗" width="20">
    </label>

    <input type="checkbox" id="chk-swahili" onclick="toggleRow()">
    <label for="chk-swahili" data-key="swahili">
        斯瓦希里語 <img src="flags/ke.png" alt="肯亞國旗" width="20">
    </label>


    <h2 onclick="toggleTable(this)" data-key="ConsonantsPulmonic">輔音(肺部氣流) <span class="toggle-icon">+</span></h2>
    <table data-type="ConsonantsPulmonic">
        <tr>
            <th data-key=""></th>
            <th colspan="2" data-key="Bilabial">雙唇</th>
            <th colspan="2" data-key="Labiodental">唇齒</th>
            <th colspan="2" data-key="Dental">齒</th>
            <th colspan="2" data-key="Alveolar">齦</th>
            <th colspan="2" data-key="Postalveolar">齦後</th>
            <th colspan="2" data-key="Retroflex">捲舌</th>
            <th colspan="2" data-key="Palatal">硬顎</th>
            <th colspan="2" data-key="Velar">軟顎</th>
            <th colspan="2" data-key="Uvular">小舌</th>
            <th colspan="2" data-key="Pharyngeal">咽</th>
            <th colspan="2" data-key="Glottal">喉</th>
        </tr>
        <tr>
            <td class="first-cell" rowspan="1" data-key="Plosive">爆發音</td>
            <td style="border-right: none;">p</td>
            <td style="border-left: none;">b</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;">t</td>
            <td style="border-right: none; border-left: none;">d</td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;">ʈ</td>
            <td style="border-left: none;">ɖ</td>
            <td style="border-right: none;">c</td>
            <td style="border-left: none;">ɟ</td>
            <td style="border-right: none;">k</td>
            <td style="border-left: none;">ɡ</td>
            <td style="border-right: none;">q</td>
            <td style="border-left: none;">ɢ</td>
            <td></td>
            <td style="background-color: #d3d3d3;"></td>
            <td>ʔ</td>
            <td style="background-color: #d3d3d3"></td>
        </tr>

        <tr class="Compare">
            <td id="Plosive-Bilabial-voiceless"></td>
            <td id="Plosive-Bilabial-voiced"></td>
            <td id="Plosive-Labiodental-voiceless"></td>
            <td id="Plosive-Labiodental-voiced"></td>
            <td id="Plosive-Dental-voiceless"></td>
            <td id="Plosive-Dental-voiced"></td>
            <td id="Plosive-Alveolar-voiceless"></td>
            <td id="Plosive-Alveolar-voiced"></td>
            <td id="Plosive-Postalveolar-voiceless"></td>
            <td id="Plosive-Postalveolar-voiced"></td>
            <td id="Plosive-Retroflex-voiceless"></td>
            <td id="Plosive-Retroflex-voiced"></td>
            <td id="Plosive-Palatal-voiceless"></td>
            <td id="Plosive-Palatal-voiced"></td>
            <td id="Plosive-Velar-voiceless"></td>
            <td id="Plosive-Velar-voiced"></td>
            <td id="Plosive-Uvular-voiceless"></td>
            <td id="Plosive-Uvular-voiced"></td>
            <td id="Plosive-Pharyngeal-voiceless"></td>
            <td id="Plosive-Pharyngeal-voiced" style="background-color: #d3d3d3"></td>
            <td id="Plosive-Glottal-voiceless"></td>
            <td id="Plosive-Glottal-voiced" style="background-color: #d3d3d3"></td>
        </tr>

        <tr>
            <td class="first-cell" rowspan="1" data-key="Nasal">鼻音</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">m</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ɱ</td>
            <td style="border-right: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;">n</td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ɳ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ɲ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ŋ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ɴ</td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
        </tr>
        <tr class="Compare">
            <td id="Nasal-Bilabial-voiceless"></td>
            <td id="Nasal-Bilabial-voiced"></td>
            <td id="Nasal-Labiodental-voiceless"></td>
            <td id="Nasal-Labiodental-voiced"></td>
            <td id="Nasal-Dental-voiceless"></td>
            <td id="Nasal-Dental-voiced"></td>
            <td id="Nasal-Alveolar-voiceless"></td>
            <td id="Nasal-Alveolar-voiced"></td>
            <td id="Nasal-Postalveolar-voiceless"></td>
            <td id="Nasal-Postalveolar-voiced"></td>
            <td id="Nasal-Retroflex-voiceless"></td>
            <td id="Nasal-Retroflex-voiced"></td>
            <td id="Nasal-Palatal-voiceless"></td>
            <td id="Nasal-Palatal-voiced"></td>
            <td id="Nasal-Velar-voiceless"></td>
            <td id="Nasal-Velar-voiced"></td>
            <td id="Nasal-Uvular-voiceless"></td>
            <td id="Nasal-Uvular-voiced"></td>
            <td id="Nasal-Pharyngeal-voiceless" style="background-color: #d3d3d3"></td>
            <td id="Nasal-Pharyngeal-voiced" style="background-color: #d3d3d3"></td>
            <td id="Nasal-Glottal-voiceless" style="background-color: #d3d3d3"></td>
            <td id="Nasal-Glottal-voiced" style="background-color: #d3d3d3"></td>
        </tr>
        <tr>
            <td class="first-cell" rowspan="1" data-key="Trill">顫音</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ʙ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;">r</td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ʀ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
        </tr>
        <tr class="Compare">
            <td id="Trill-Bilabial-voiceless"></td>
            <td id="Trill-Bilabial-voiced"></td>
            <td id="Trill-Labiodental-voiceless"></td>
            <td id="Trill-Labiodental-voiced"></td>
            <td id="Trill-Dental-voiceless"></td>
            <td id="Trill-Dental-voiced"></td>
            <td id="Trill-Alveolar-voiceless"></td>
            <td id="Trill-Alveolar-voiced"></td>
            <td id="Trill-Postalveolar-voiceless"></td>
            <td id="Trill-Postalveolar-voiced"></td>
            <td id="Trill-Retroflex-voiceless"></td>
            <td id="Trill-Retroflex-voiced"></td>
            <td id="Trill-Palatal-voiceless"></td>
            <td id="Trill-Palatal-voiced"></td>
            <td id="Trill-Velar-voiceless" style="background-color: #d3d3d3"></td>
            <td id="Trill-Velar-voiced" style="background-color: #d3d3d3"></td>
            <td id="Trill-Uvular-voiceless"></td>
            <td id="Trill-Uvular-voiced"></td>
            <td id="Trill-Pharyngeal-voiceless"></td>
            <td id="Trill-Pharyngeal-voiced"></td>
            <td id="Trill-Glottal-voiceless" style="background-color: #d3d3d3"></td>
            <td id="Trill-Glottal-voiced" style="background-color: #d3d3d3"></td>
        </tr>
        <tr>
            <td class="first-cell" rowspan="1" data-key="TapOrFlap">拍音或閃音</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ⱱ</td>
            <td style="border-right: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;">ɾ</td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ɽ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
        </tr>
        <tr class="Compare">
            <td id="TapOrFlap-Bilabial-voiceless"></td>
            <td id="TapOrFlap-Bilabial-voiced"></td>
            <td id="TapOrFlap-Labiodental-voiceless"></td>
            <td id="TapOrFlap-Labiodental-voiced"></td>
            <td id="TapOrFlap-Dental-voiceless"></td>
            <td id="TapOrFlap-Dental-voiced"></td>
            <td id="TapOrFlap-Alveolar-voiceless"></td>
            <td id="TapOrFlap-Alveolar-voiced"></td>
            <td id="TapOrFlap-Postalveolar-voiceless"></td>
            <td id="TapOrFlap-Postalveolar-voiced"></td>
            <td id="TapOrFlap-Retroflex-voiceless"></td>
            <td id="TapOrFlap-Retroflex-voiced"></td>
            <td id="TapOrFlap-Palatal-voiceless"></td>
            <td id="TapOrFlap-Palatal-voiced"></td>
            <td id="TapOrFlap-Velar-voiceless" style="background-color: #d3d3d3"></td>
            <td id="TapOrFlap-Velar-voiced" style="background-color: #d3d3d3"></td>
            <td id="TapOrFlap-Uvular-voiceless"></td>
            <td id="TapOrFlap-Uvular-voiced"></td>
            <td id="TapOrFlap-Pharyngeal-voiceless"></td>
            <td id="TapOrFlap-Pharyngeal-voiced"></td>
            <td id="TapOrFlap-Glottal-voiceless" style="background-color: #d3d3d3"></td>
            <td id="TapOrFlap-Glottal-voiced" style="background-color: #d3d3d3"></td>
        </tr>
        <tr>
            <td class="first-cell" rowspan="1" data-key="Fricative">擦音</td>
            <td style="border-right: none;">ɸ</td>
            <td style="border-left: none;">β</td>
            <td style="border-right: none;">f</td>
            <td style="border-left: none;">v</td>
            <td style="border-right: none;">θ</td>
            <td style="border-left: none;">ð</td>
            <td style="border-right: none;">s</td>
            <td style="border-left: none;">z</td>
            <td style="border-right: none;">ʃ</td>
            <td style="border-left: none;">ʒ</td>
            <td style="border-right: none;">ʂ</td>
            <td style="border-left: none;">ʐ</td>
            <td style="border-right: none;">ç</td>
            <td style="border-left: none;">ʝ</td>
            <td style="border-right: none;">x</td>
            <td style="border-left: none;">ɣ</td>
            <td style="border-right: none;">χ</td>
            <td style="border-left: none;">ʁ</td>
            <td style="border-right: none;">ħ</td>
            <td style="border-left: none;">ʕ</td>
            <td style="border-right: none;">h</td>
            <td style="border-left: none;">ɦ</td>
        </tr>
        <tr class="Compare">
            <td id="Fricative-Bilabial-voiceless"></td>
            <td id="Fricative-Bilabial-voiced"></td>
            <td id="Fricative-Labiodental-voiceless"></td>
            <td id="Fricative-Labiodental-voiced"></td>
            <td id="Fricative-Dental-voiceless"></td>
            <td id="Fricative-Dental-voiced"></td>
            <td id="Fricative-Alveolar-voiceless"></td>
            <td id="Fricative-Alveolar-voiced"></td>
            <td id="Fricative-Postalveolar-voiceless"></td>
            <td id="Fricative-Postalveolar-voiced"></td>
            <td id="Fricative-Retroflex-voiceless"></td>
            <td id="Fricative-Retroflex-voiced"></td>
            <td id="Fricative-Palatal-voiceless"></td>
            <td id="Fricative-Palatal-voiced"></td>
            <td id="Fricative-Velar-voiceless"></td>
            <td id="Fricative-Velar-voiced"></td>
            <td id="Fricative-Uvular-voiceless"></td>
            <td id="Fricative-Uvular-voiced"></td>
            <td id="Fricative-Pharyngeal-voiceless"></td>
            <td id="Fricative-Pharyngeal-voiced"></td>
            <td id="Fricative-Glottal-voiceless"></td>
            <td id="Fricative-Glottal-voiced"></td>
        </tr>
        <tr>
            <td class="first-cell" rowspan="1" data-key="LateralFricative">邊擦音</td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
            <td style="border-right: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;">ɬ</td>
            <td style="border-right: none; border-left: none;">ɮ</td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
        </tr>
        <tr class="Compare">
            <td id="LateralFricative-Bilabial-voiceless" style="background-color: #d3d3d3"></td>
            <td id="LateralFricative-Bilabial-voiced" style="background-color: #d3d3d3"></td>
            <td id="LateralFricative-Labiodental-voiceless" style="background-color: #d3d3d3"></td>
            <td id="LateralFricative-Labiodental-voiced" style="background-color: #d3d3d3"></td>
            <td id="LateralFricative-Dental-voiceless"></td>
            <td id="LateralFricative-Dental-voiced"></td>
            <td id="LateralFricative-Alveolar-voiceless"></td>
            <td id="LateralFricative-Alveolar-voiced"></td>
            <td id="LateralFricative-Postalveolar-voiceless"></td>
            <td id="LateralFricative-Postalveolar-voiced"></td>
            <td id="LateralFricative-Retroflex-voiceless"></td>
            <td id="LateralFricative-Retroflex-voiced"></td>
            <td id="LateralFricative-Palatal-voiceless"></td>
            <td id="LateralFricative-Palatal-voiced"></td>
            <td id="LateralFricative-Velar-voiceless"></td>
            <td id="LateralFricative-Velar-voiced"></td>
            <td id="LateralFricative-Uvular-voiceless"></td>
            <td id="LateralFricative-Uvular-voiced"></td>
            <td id="LateralFricative-Pharyngeal-voiceless" style="background-color: #d3d3d3"></td>
            <td id="LateralFricative-Pharyngeal-voiced" style="background-color: #d3d3d3"></td>
            <td id="LateralFricative-Glottal-voiceless" style="background-color: #d3d3d3"></td>
            <td id="LateralFricative-Glottal-voiced" style="background-color: #d3d3d3"></td>
        </tr>
        <tr>
            <td class="first-cell" rowspan="1" data-key="Approximant">近音</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ʋ</td>
            <td style="border-right: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;">ɹ</td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ɻ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">j</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ɰ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
        </tr>
        <tr class="Compare">
            <td id="Approximant-Bilabial-voiceless"></td>
            <td id="Approximant-Bilabial-voiced"></td>
            <td id="Approximant-Labiodental-voiceless"></td>
            <td id="Approximant-Labiodental-voiced"></td>
            <td id="Approximant-Dental-voiceless"></td>
            <td id="Approximant-Dental-voiced"></td>
            <td id="Approximant-Alveolar-voiceless"></td>
            <td id="Approximant-Alveolar-voiced"></td>
            <td id="Approximant-Postalveolar-voiceless"></td>
            <td id="Approximant-Postalveolar-voiced"></td>
            <td id="Approximant-Retroflex-voiceless"></td>
            <td id="Approximant-Retroflex-voiced"></td>
            <td id="Approximant-Palatal-voiceless"></td>
            <td id="Approximant-Palatal-voiced"></td>
            <td id="Approximant-Velar-voiceless"></td>
            <td id="Approximant-Velar-voiced"></td>
            <td id="Approximant-Uvular-voiceless"></td>
            <td id="Approximant-Uvular-voiced"></td>
            <td id="Approximant-Pharyngeal-voiceless"></td>
            <td id="Approximant-Pharyngeal-voiced"></td>
            <td id="Approximant-Glottal-voiceless" style="background-color: #d3d3d3"></td>
            <td id="Approximant-Glottal-voiced" style="background-color: #d3d3d3"></td>
        </tr>
        <tr>
            <td class="first-cell" rowspan="1" data-key="LateralApproximant">邊近音</td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
            <td style="border-right: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-right: none; border-left: none;">l</td>
            <td style="border-right: none; border-left: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ɭ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ʎ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;">ʟ</td>
            <td style="border-right: none;"></td>
            <td style="border-left: none;"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
            <td style="border-right: none; background-color:  #d3d3d3"></td>
            <td style="border-left: none; background-color:  #d3d3d3"></td>
        </tr>
        <tr class="Compare">
            <td id="LateralApproximant-Bilabial-voiceless" style="background-color: #d3d3d3"></td>
            <td id="LateralApproximant-Bilabial-voiced" style="background-color: #d3d3d3"></td>
            <td id="LateralApproximant-Labiodental-voiceless" style="background-color: #d3d3d3"></td>
            <td id="LateralApproximant-Labiodental-voiced" style="background-color: #d3d3d3"></td>
            <td id="LateralApproximant-Dental-voiceless"></td>
            <td id="LateralApproximant-Dental-voiced"></td>
            <td id="LateralApproximant-Alveolar-voiceless"></td>
            <td id="LateralApproximant-Alveolar-voiced"></td>
            <td id="LateralApproximant-Postalveolar-voiceless"></td>
            <td id="LateralApproximant-Postalveolar-voiced"></td>
            <td id="LateralApproximant-Retroflex-voiceless"></td>
            <td id="LateralApproximant-Retroflex-voiced"></td>
            <td id="LateralApproximant-Palatal-voiceless"></td>
            <td id="LateralApproximant-Palatal-voiced"></td>
            <td id="LateralApproximant-Velar-voiceless"></td>
            <td id="LateralApproximant-Velar-voiced"></td>
            <td id="LateralApproximant-Uvular-voiceless"></td>
            <td id="LateralApproximant-Uvular-voiced"></td>
            <td id="LateralApproximant-Pharyngeal-voiceless" style="background-color: #d3d3d3"></td>
            <td id="LateralApproximant-Pharyngeal-voiced" style="background-color: #d3d3d3"></td>
            <td id="LateralApproximant-Glottal-voiceless" style="background-color: #d3d3d3"></td>
            <td id="LateralApproximant-Glottal-voiced" style="background-color: #d3d3d3"></td>
        </tr>
        <tr>
            <td colspan="23" data-key="ConsonantsPulmonicNote">成對出現的音標，右邊為濁輔音。陰影區域表示不可能產生的音。</td>
        </tr>


    </table>

    <h2 onclick="toggleTable(this)" data-key="ConsonantsNonPulmonic">輔音(非肺部氣流) <span class="toggle-icon">+</span></h2>
    <table data-type="ConsonantsNonPulmonic">
        <tr>
            <th colspan="2" data-key="Clicks">嘖音</th>
            <th colspan="2" data-key="VoicedImplosives">濁內爆音</th>
            <th colspan="2" data-key="Ejectives">噴音</th>
        </tr>

        <tr>
            <td style="border-right: none;">ʘ</td>
            <td style="border-left: none;" data-key="NonP-Bilabial">雙唇音</td>
            <td style="border-right: none;">ɓ</td>
            <td style="border-left: none;" data-key="NonP-Bilabial">雙唇音</td>
            <td style="border-right: none;"> ʼ</td>
            <td style="border-left: none;" data-key="NonP-Ejective">噴音</td>
        </tr>

        <tr class="Compare">
            <td colspan="2" id="Clicks-Bilabial"></td>
            <td colspan="2" id="VoicedImplosives-Bilabial"></td>
            <td colspan="2" id="Ejectives-Ejective"></td>
        </tr>

        <tr>
            <td style="border-right: none;">ǀ</td>
            <td style="border-left: none;" data-key="NonP-Dental">齒音</td>
            <td style="border-right: none;">ɗ</td>
            <td style="border-left: none;" data-key="NonP-DentalAlveolar">齒音/齦音</td>
            <td style="border-right: none;">pʼ</td>
            <td style="border-left: none;" data-key="NonP-Bilabial">雙唇音</td>
        </tr>

        <tr class="Compare">
            <td colspan="2" id="Clicks-Dental"></td>
            <td colspan="2" id="VoicedImplosives-DentalAlveolar"></td>
            <td colspan="2" id="Ejectives-Bilabial"></td>
        </tr>

        <tr>
            <td style="border-right: none;">ǃ</td>
            <td style="border-left: none;" data-key="NonP-Postalveolar">齦(後)音</td>
            <td style="border-right: none;">ʄ</td>
            <td style="border-left: none;" data-key="NonP-Palatal">硬顎音</td>
            <td style="border-right: none;">tʼ</td>
            <td style="border-left: none;" data-key="NonP-DentalAlveolar">齒音/齦音</td>
        </tr>

        <tr class="Compare">
            <td colspan="2" id="Clicks-Postalveolar"></td>
            <td colspan="2" id="VoicedImplosives-Palatal"></td>
            <td colspan="2" id="Ejectives-DentalAlveolar"></td>
        </tr>

        <tr>
            <td style="border-right: none;">ǂ</td>
            <td style="border-left: none;" data-key="NonP-Palatoalveolar">顎齦音</td>
            <td style="border-right: none;">ɠ</td>
            <td style="border-left: none;" data-key="NonP-Velar">軟顎音</td>
            <td style="border-right: none;">kʼ</td>
            <td style="border-left: none;" data-key="NonP-Velar">軟顎音</td>
        </tr>

        <tr class="Compare">
            <td colspan="2" id="Clicks-Palatoalveolar"></td>
            <td colspan="2" id="VoicedImplosives-Velar"></td>
            <td colspan="2" id="Ejectives-Velar"></td>
        </tr>

        <tr>
            <td style="border-right: none;">ǁ</td>
            <td style="border-left: none;" data-key="NonP-AlveolarLateral">齦邊音</td>
            <td style="border-right: none;">ʛ</td>
            <td style="border-left: none;" data-key="NonP-Uvular">小舌音</td>
            <td style="border-right: none;">sʼ</td>
            <td style="border-left: none;" data-key="NonP-AlveolarFricative">齦擦音</td>
        </tr>

        <tr class="Compare">
            <td colspan="2" id="Clicks-AlveolarLateral"></td>
            <td colspan="2" id="VoicedImplosives-Uvular"></td>
            <td colspan="2" id="Ejectives-AlveolarFricative"></td>
        </tr>
    </table>

    <h2 onclick="toggleTable(this)" data-key="OtherSymbols">其他符號<span class="toggle-icon">+</span></h2>
    <table data-type="OtherSymbols">
        <tr>
            <td style="border-right: none;">ʍ</td>
            <td style="border-left: none;" data-key="OS-VoicelessLabialvelarFricative">唇-軟顎輕擦音</td>
        </tr>
        <tr class="Compare">
            <td colspan="2" id="VoicelessLabialvelarFricative"></td>
        <tr>
            <td style="border-right: none;">w</td>
            <td style="border-left: none;" data-key="OS-VoicedLabialvelarApproximant">唇-軟顎濁近音</td>
        </tr>
        </tr>
        <tr class="Compare">
            <td colspan="2" id="VoicedLabialvelarApproximant"></td>
        <tr>
        <tr>
            <td style="border-right: none;">ɥ</td>
            <td style="border-left: none;" data-key="OS-VoicedLabialpalatalApproximant">唇-硬顎濁近音</td>
        </tr>
        <tr class="Compare">
            <td colspan="2" id="VoicedLabialpalatalApproximant"></td>
        <tr>
        <tr>
            <td style="border-right: none;">ʜ</td>
            <td style="border-left: none;" data-key="OS-VoicelessEpiglottalFricative">會厭輕擦音</td>
        </tr>
        <tr class="Compare">
            <td colspan="2" id="VoicelessEpiglottalFricative"></td>
        <tr>
        <tr>
            <td style="border-right: none;">ʢ</td>
            <td style="border-left: none;" data-key="OS-VoicedEpiglottalFricativeApproximant">會厭濁擦音</td>
        </tr>
        <tr class="Compare">
            <td colspan="2" id="VoicedEpiglottalFricativeApproximant"></td>
        <tr>
        <tr>
            <td style="border-right: none;">ʡ</td>
            <td style="border-left: none;" data-key="OS-EpiglottalPlosive">會厭爆發音</td>
        </tr>
        <tr class="Compare">
            <td colspan="2" id="EpiglottalPlosive"></td>
        <tr>
        <tr>
            <td style="border-right: none;">ɕ ʑ</td>
            <td style="border-left: none;" data-key="OS-AlveolopalatalFricatives">齦-顎擦音</td>
        </tr>
        <tr class="Compare">
            <td colspan="1" id="VoicelessAlveolopalatalFricatives"></td>
            <td colspan="1" id="VoicedAlveolopalatalFricatives"></td>
        <tr>
        <tr>
            <td style="border-right: none;"> ɺ</td>
            <td style="border-left: none;" data-key="OS-VoicedAlveolarLateralFlap">齦邊濁閃音</td>
        </tr>
        <tr class="Compare">
            <td colspan="2" id="VoicedAlveolarLateralFlap"></td>
        <tr>
        <tr>
            <td style="border-right: none;">ɧ</td>
            <td style="border-left: none;" data-key="OS-SimultaneousSJ">同時發/ʃ/和/x/ </td>
        </tr>
        <tr class="Compare">
            <td colspan="2" id="SimultaneousSJ"></td>
        <tr>
        <tr>
            <td style="border-right: none;">◌͜ ◌ ◌ ͡◌ </td>
            <td style="border-left: none;" data-key="OS-TieBar">連音符</td>
        </tr>
        <tr>
            <td colspan="2" data-key="OS-TieBarNote">若有必要，塞擦音及雙重調音可以用連音符連接兩個符號</td>
        </tr>
    </table>

    <script>
        function toggleTable(header) {
            var table = header.nextElementSibling;
            var icon = header.querySelector(".toggle-icon");

            if (table && table.tagName === "TABLE") {
                if (table.style.display === "none" || table.style.display === "") {
                    table.style.display = "table";
                    icon.textContent = "−"; // 收起時顯示「-」
                } else {
                    table.style.display = "none";
                    icon.textContent = "+"; // 展開時顯示「+」
                }
            }
        }

        let translationsData = [];

        // 讀取翻譯 CSV
        async function loadTranslationsCSV() {
            try {
                const response = await fetch('translations.csv');
                const data = await response.text();
                translationsData = parseTranslationsCSV(data);
                changeLanguage('zh'); // 預設繁體中文
            } catch (error) {
                console.error('載入翻譯 CSV 錯誤:', error);
            }
        }

        // 解析翻譯 CSV
        function parseTranslationsCSV(csvText) {
            let lines = csvText.trim().split("\n");
            let headers = lines[0].split(",").map(header => header.trim());

            return lines.slice(1).map(line => {
                let values = line.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(value => value.trim());
                let obj = {};
                headers.forEach((header, index) => {
                    obj[header] = values[index] || "";
                });
                return obj;
            });
        }

        // 切換語言
        function changeLanguage(lang) {
            if (!translationsData.length) {
                console.warn("翻譯數據尚未載入");
                return;
            }

            document.querySelectorAll("[data-key]").forEach(element => {
                let key = element.getAttribute("data-key");
                let translation = translationsData.find(row => row["data-key"] === key);

                if (translation && translation[lang]) {
                    element.textContent = translation[lang];
                } else {
                    console.warn(`找不到 ${key} 的 ${lang} 翻譯`);
                }
            });
        }


        let csvDataMap = {};
        const displayedFlags = new Map();

        // 讀取並解析 CSV
        async function loadCSVForTable(tableType, csvUrl, config) {
            try {
                const response = await fetch(csvUrl);
                const text = await response.text();
                csvDataMap[tableType] = parseCSV(text);
                toggleRow();
            } catch (error) {
                console.error(`載入 ${tableType} CSV 錯誤:`, error);
            }
        }

        // 通用 CSV 解析
        function parseCSV(csvText) {
            return csvText.trim().split("\n").map(row => {
                const match = row.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g);
                return match ? match.map(cell => cell.replace(/^"|"$/g, '').trim()) : [];
            });
        }

        // 控制是否顯示 Compare 行 & 填入對應資料
        function toggleRow() {
            const isSimpleMode = document.getElementById("simpleModeCheckbox").checked;
            let hasChecked = false;

            // 檢查有無勾選語言
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                if (checkbox.checked && checkbox.id !== "simpleModeCheckbox") {
                    hasChecked = true;
                }
            });

            // 顯示 Compare 行與調整 rowspan
            document.querySelectorAll(".Compare").forEach(row => {
                row.style.display = hasChecked ? "" : "none";
                row.querySelectorAll("td").forEach(td => td.innerHTML = '');
            });
            document.querySelectorAll(".first-cell").forEach(cell => {
                cell.setAttribute("rowspan", hasChecked ? "2" : "1");
            });

            // 沒有選語言就跳出
            if (!hasChecked) return;

            // 清空旗幟記錄
            displayedFlags.clear();

            // 處理所有表格類型
            for (const [tableType, rows] of Object.entries(csvDataMap)) {
                rows.forEach(row => {
                    const language = row[0].trim().toLowerCase();
                    if (!document.getElementById(`chk-${language}`)?.checked) return;

                    const config = tableConfigs[tableType];
                    const tdId = config.getTdId(row);
                    const tdElement = document.getElementById(tdId);
                    if (!tdElement) return;

                    const flag = getFlagUrl(language);
                    if (!displayedFlags.has(tdId)) displayedFlags.set(tdId, new Set());

                    const tdFlags = displayedFlags.get(tdId);
                    if (!tdFlags.has(language)) {
                        const flagImg = document.createElement('img');
                        flagImg.src = flag;
                        flagImg.alt = `${language} 國旗`;
                        flagImg.width = 20;
                        flagImg.style.marginRight = '5px';
                        tdElement.appendChild(flagImg);
                        tdFlags.add(language);
                    }

                    if (!isSimpleMode) {
                        const ipa = row[config.ipaIndex];
                        const example = row[config.exampleIndex];
                        const div = document.createElement('div');
                        div.innerHTML = `<strong>${ipa}: </strong>${example}`;
                        tdElement.appendChild(div);
                    }
                });
            }
        }

        // 語言對應國旗
        function getFlagUrl(language) {
            const flagMap = {
                chinese: 'flags/tw.png',
                english: 'flags/us.png',
                german: 'flags/de.png',
                spanish: 'flags/es.png',
                portuguese: 'flags/pt.png',
                french: 'flags/fr.png',
                italian: 'flags/it.png',
                russian: 'flags/ru.png',
                hindiurdu: 'flags/in.png',
                bengali: 'flags/bd.png',
                persian: 'flags/ir.png',
                tamil: 'flags/in.png',
                arabic: 'flags/sa.png',
                turkish: 'flags/tr.png',
                japanese: 'flags/jp.png',
                korean: 'flags/kr.png',
                vietnamese: 'flags/vn.png',
                indonesian: 'flags/id.png',
                thai: 'flags/th.png',
                swahili: 'flags/ke.png',
            };
            return flagMap[language.toLowerCase()] || 'flags/default.png';
        }

        // 不同表格對應的資料格式與邏輯
        const tableConfigs = {
            ConsonantsPulmonic: {
                getTdId: row => `${row[2]}-${row[1]}-${row[3]}`, // manner-place-voicing
                ipaIndex: 4,
                exampleIndex: 5,
            },
            ConsonantsNonPulmonic: {
                getTdId: row => `${row[1]}-${row[2]}`, // manner-place
                ipaIndex: 3,
                exampleIndex: 4,
            },
            OtherSymbols: {
                getTdId: row => `${row[1]}`,
                ipaIndex: 2,
                exampleIndex: 3,
            },
        };

        // 綁定 checkbox 切換事件
        document.getElementById("simpleModeCheckbox").addEventListener("change", toggleRow);

        // 初始載入
        document.addEventListener("DOMContentLoaded", async () => {
            await loadTranslationsCSV();
            await loadCSVForTable("ConsonantsPulmonic", "ConsonantsPulmonic.csv", tableConfigs.ConsonantsPulmonic);
            await loadCSVForTable("ConsonantsNonPulmonic", "ConsonantsNonPulmonic.csv", tableConfigs.ConsonantsNonPulmonic);
            await loadCSVForTable("OtherSymbols", "OtherSymbols.csv", tableConfigs.OtherSymbols);
        });
    </script>


</body>

</html>